<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cracow University of Economics</title>
    
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="static/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>


    <link rel="manifest" href="/manifest.json"> 
    
</head>
    <body>
      
        <div class="header">
          <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
            <div class="container-fluid">
              <!-- LOGO -->
              <a class="navbar-brand" href="index.html">
                <img src="static/logo.png" alt="" width="30" height="40" class="d-inline-block align-text-top">          
              </a>
              Cracow University <br> of Economics
              <!-- NAVIGATION -->
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
                <span class="navbar-toggler-icon"></span>
              </button>

              <div class="collapse navbar-collapse" id="collapsibleNavbar">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="/index.html">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/map.html">Location</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/buzzer.html">Buzzer</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
        </div>
        <div class="row ">
          <div id = "map" class="mh-100 mw-100" style="width:100vh; height:100vh"></div>
        </div>
        <script>
          
           // Creating a map object
           var map = new L.map('map');
           
           // Creating a Layer object
           var layer = new L.TileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');
           
           // Adding layer to the map
           map.addLayer(layer);
           
           // Creating a marker
           var marker;

           this.map.locate({
             setView: true,
             zoom: 10
           }).on("locationfound", e => {
               if (!marker) {
                   marker = new L.marker(e.latlng).addTo(this.map);
               } else {
                   marker.setLatLng(e.latlng);
               }
           }).on("locationerror", error => {
               if (marker) {
                   map.removeLayer(marker);
                   marker = undefined;
               }
           });
      </script>
    <!-- <script>
      const successCallback = (position) => {
        console.log(position)
      };
      const errorCallback = (error) => {
        console.log(error)
      };

      const watchId = navigator.geolocation.watchPosition(successCallback, errorCallback);
      navigator.geolocation.getCurrentPosition(successCallback, errorCallback, {
        enableHighAccuracy: true,
        timeout: 
      });


      navigator.geolocation.clearWatch()

    </script> -->

    <script src="js/app.js"></script>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </body>
</html>